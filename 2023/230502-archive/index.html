<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="leejaelll">


    <meta name="subtitle" content="by Leejaelll">






<title>내가 몰라서 정리한 Cookie | LEE_PLAY</title>



    <link rel="icon" href="/favicon.png">



<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Roboto+Mono&display=swap');
</style>



    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    




    <!-- scripts list from _config.yml -->
    
    <script src="/js/frame.js"></script>
    










  <meta name="generator" content="Hexo 6.3.0"></head>
  <body>
    <div class="mask-border">
    </div>

    <div class="wrapper">

      <div class="header">
  <div class="flex-container">
    <div class="header-inner">
      <div class="site-brand-container">
        <a href="/">
          
            LEE_PLAY
          
        </a>
      </div>
      <div id="menu-btn" class="menu-btn" onclick="toggleMenu()">
        Menu
      </div>
      <nav class="site-nav">
        <ul class="menu-list">
          
            
              <li class="menu-item">
                <a href="/">Home</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/archives/">Archive</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/tag/">Tag</a>
              </li> 
                   
          
          
            <li class="menu-item search-btn">
              <a href="#">Search</a>
            </li>
          
        </ul>
      </nav>
    </div>
  </div>
</div>


      <div class="main">
        <div class="flex-container">
          <article id="post">

  
    <div class="post-head">
    <div class="post-info">
        <div class="tag-list">
            
                
                    <span class="post-tag">
                        <a href="/tags/CodeStates/">
                            CodeStates
                        </a>
                    </span>    
                
                    <span class="post-tag">
                        <a href="/tags/Auth/">
                            Auth
                        </a>
                    </span>    
                           
            
        </div>
        <div class="post-title">
            
            
                내가 몰라서 정리한 Cookie
            
            
        </div>
        <span class="post-date">
            May 2, 2023
        </span>
    </div>
    <div class="post-img">
        
            <img src="https://media.istockphoto.com/id/517109442/photo/chocolate-chip-cookie-isolated.jpg?s=612x612&amp;w=0&amp;k=20&amp;c=RgZOYwzVRTXnIBy8zSkXK-wJfNBy9w023UGULkbH_VE=" alt="featured_image">
              
    </div>
</div>
    <div class="post-content">
    <p>이번 주부터 HTTPS 작동방식과 인증방식을 배우는데요, 로그인, 로그아웃 기능을 구현하는 방법을 학습할 수 있을 것 같습니다. 서버를 찍먹해볼 수 있는 시간이라 이번 유닛을 기대했었는데, 왠걸..? 막상 배워보니 제대로 이해하지 못하는 저를 발견할 수 있었습니다.</p>
<p>그래서 배운 개념과 과제 코드 진행과정을 설명하면서 한 번 더 공부할 수 있는 시간을 가져보려고 합니다.👏🏻</p>
<hr>
<h1 id="🍪-Cookie"><a href="#🍪-Cookie" class="headerlink" title="🍪 Cookie"></a>🍪 Cookie</h1><p>: 서버에서 클라이언트에 일방적으로 전달하는 데이터<br><em>(중요한 것은 서버 ➡️ 클라이언트!)</em></p>
<br />

<p>쿠키가 유저에게 어떻게 도움이 되는걸까? 예시를 들어보자면,</p>
<p>쇼핑몰 사이트를 둘러보면서 여러 개의 옷들을 장바구니에 넣고 여러 페이지를 돌아다녀도 장바구니가 유지되는걸 알 수 있습니다. 어떻게 가능한 걸까요? 이게 바로 <strong>쿠키</strong> 덕분에 가능한 겁니다.</p>
<br />

<h2 id="Cookie의-특징"><a href="#Cookie의-특징" class="headerlink" title="Cookie의 특징"></a>Cookie의 특징</h2><h3 id="서버가-클라이언트에-특정한-데이터를-저장할-수-있습니다"><a href="#서버가-클라이언트에-특정한-데이터를-저장할-수-있습니다" class="headerlink" title="서버가 클라이언트에 특정한 데이터를 저장할 수 있습니다."></a>서버가 클라이언트에 특정한 데이터를 저장할 수 있습니다.</h3><p>서버는 쿠키를 이용해서 데이터를 저장하고 데이터를 다시 불러와 사용할 수 있습니다. (단, 특정 조건들이 만족되어야 가져올 수 있습니다.)</p>
<p>특정 조건들은 http 헤더를 사용해 쿠키 옵션으로 표현할 수 있습니다.</p>
<blockquote>
<p>🤔 쿠키 옵션에는 뭐가 있는거지?</p>
</blockquote>
<br />

<p>주로 사용하는 <strong>쿠키 옵션</strong>에 대해서 알아보겠습니다.</p>
<h3 id="Domain"><a href="#Domain" class="headerlink" title="Domain"></a>Domain</h3><ul>
<li>쿠키 옵션에서의 도메인 👉🏻 포트 및 서브 도메인, 세부 경로를 포함하지 않습니다.<ul>
<li>서브 도메인이란? <code>www</code>같은 도메인 앞에 추가로 작성되는 부분</li>
<li>요청해야 할 URL이 <code>http://www.localhost:3000/users/login</code>이라면 도메인은? 👉🏻 <code>localhost:3000</code></li>
</ul>
</li>
<li>도메인 정보가 존재한다면 <strong>클라이언트에서는 쿠키의 도메인 옵션과 서버의 도메인</strong>이 일치해야만 쿠키를 전송할 수 있습니다.<ul>
<li>이를 통해 <code>naver.com</code>에서 받은 쿠키를 <code>google.com</code>에 전송하는 일을 막을 수 있습니다.</li>
</ul>
</li>
</ul>
<h3 id="Path"><a href="#Path" class="headerlink" title="Path"></a>Path</h3><ul>
<li>세부 경로</li>
<li>서버가 라우팅할 때 사용하는 경로를 의미합니다.<ul>
<li>만약 요청해야 하는 URL이 <code>http://www.localhost.com:3000/users/login</code>인 경우라면 여기에서<code>Path</code>는? 👉🏻 <code>/users/login</code></li>
</ul>
</li>
<li>설정된 경로를 포함하는 하위 경로로 요청하더라도 쿠키를 전송할 수 있습니다.<ul>
<li>만약 <code>Path</code>가 <code>/users/</code>로 설정되어있고, 요청 경로가 <code>/users/codestates</code>라면 쿠키 전송 가능⭕️</li>
</ul>
</li>
</ul>
<h3 id="MaxAge-or-Expires"><a href="#MaxAge-or-Expires" class="headerlink" title="MaxAge or Expires"></a>MaxAge or Expires</h3><ul>
<li>쿠키에 유효한 기간을 정하는 옵션</li>
<li>MaxAge: 유효한 시간을 초 단위로 설정하는 옵션</li>
<li>Expires: 언제까지 쿠키가 유효한지 클라이언트의 시간을 기준으로 설정하는 옵션</li>
<li>옵션 여부에 따라 세션 쿠키와 영속성 쿠키로 나눠집니다.<ul>
<li>세션 쿠키: MaxAge 또는 Expires 옵션이 없는 쿠키</li>
<li>영속성 쿠키: 브라우저의 종료와 상관없이 지정된 유효시간만큼 사용가능한 쿠키가</li>
</ul>
</li>
</ul>
<h3 id="Secure"><a href="#Secure" class="headerlink" title="Secure"></a>Secure</h3><ul>
<li>사용하는 프로토콜에 따른 쿠키의 전송여부를 결정하는 옵션</li>
<li>Secure 옵션이 true로 설정된 경우 HTTPS를 이용하는 경우에만 쿠키를 전송할 수 있습니다.</li>
<li>Secure 옵션이 없다면? 👉🏻 프로토콜에 상관없이 즉, https든 http든 모두 쿠키를 전송할 수 있습니다.<br><em>- 단, 도메인이 localhost인 경우에는 HTTPS가 아니어도 쿠키 전송이 가능합니다.</em></li>
</ul>
<h3 id="HttpOnly"><a href="#HttpOnly" class="headerlink" title="HttpOnly"></a>HttpOnly</h3><ul>
<li>브라우저 쿠키에 접근이 가능한지 여부를 결정</li>
<li>해당 옵션이 true로 설정된 경우, 자바스크립트로 쿠키에 접근이 불가합니다.</li>
<li>옵션을 명시하지 않는 경우에는 기본적으로 false로 지정됩니다.<ul>
<li>document.cookie로 접근가능⭕️</li>
<li>접근이 가능하다는 것은 쿠키가 탈취될 위험도 크다는 얘기!</li>
</ul>
</li>
</ul>
<h3 id="SameSite"><a href="#SameSite" class="headerlink" title="SameSite"></a>SameSite</h3><ul>
<li><p>Cross-Site 요청을 받은 경우, 요청에서 사용한 메서드와 해당 옵션의 조합을 기준으로 서버의 쿠키 전송 여부를 결정하게 됩니다.</p>
</li>
<li><p>SameSite 옵션</p>
<ul>
<li>Lax: Cross-Site 요청이라면 GET 메서드에 대해서만 쿠키를 전송</li>
<li>Strict: Cross-Site가 아닌 Same-Site인 경우에만 쿠키를 전송</li>
<li>None: Cross-Site에 대해 가장 관대한 옵션으로 항상 쿠키를 보내줄 수 있습니다.(다만, 쿠키 옵션 중 Secure 옵션이 필요)</li>
</ul>
<br /></li>
</ul>
<p><span style="background-color: rgba(153, 219, 218, 0.3); font-style: italic; font-weight: bold">Cross-Origin과 Cross-Site를 혼동하지 않도록 주의!</span></p>
<table>
<thead>
<tr>
<th></th>
<th>Cross-Origin</th>
<th>Cross-Site</th>
</tr>
</thead>
<tbody><tr>
<td>차이점</td>
<td>서버의 도메인, 프로토콜, 포트 중 하나라도 다른 경우</td>
<td>eTLD+1이 다른 경우(.com, .org)</td>
</tr>
<tr>
<td>예시</td>
<td><code>http://codestates.com</code> vs <code>https://codestates.com</code></td>
<td><code>https://code.github.io</code> vs <code>https://states.github.io</code></td>
</tr>
</tbody></table>
<blockquote>
<p>🤔 이 옵션들을 사용해서 쿠키를 서버에서 클라이언트로 전송하는건가? 정답은 Yes!</p>
</blockquote>
<br />

<p>서버에서 클라이언트로 쿠키를 전송하면 헤더에 <code>Set-Cookie</code>라는 프로퍼티로 쿠키를 담아서 전송합니다.</p>
<p>반대로 클라이언트에서 서버에 쿠키를 전송해야한다면 어떻게 해야할까요? 요청 헤더에 Cookie라는 프로퍼티에 쿠키를 담아 쿠키를 전송합니다.</p>
<p><span style="background-color: rgba(153, 219, 218, 0.3); font-style: italic; font-weight: bold">👉🏻 서버에서 클라이언트로는 Set-Cookie, 클라이언트에서 서버로는 Cookie </span></p>

</div> 

<script>
    window.onload = detectors();
</script>
    <div class="post-footer">
    <div class="h-line-primary"></div>
    <nav class="post-nav">
        <div class="prev-item">
           
                <div class="icon arrow-left"></div>
                <div class="post-link">
                    <a href="/2023/230502-1-archive/">Prev</a>
                </div>
            
        </div>
        <div class="next-item">
            
                <div class="icon arrow-right"></div>
                <div class="post-link">
                  <a href="/2023/230430-archive/">Next</a>  
                </div>  
            
        </div>
    </nav>
</div>

    
      <div class="post-comment">

     

    
        <div id="disqus_thread"></div>
        <script>
            /**
            *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
            *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
            
            var disqus_config = function () {
                this.page.url = 'https://leejaelll.github.io/2023/230502-archive/';  // Replace PAGE_URL with your page's canonical URL variable
                this.page.identifier = '2023/230502-archive/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                this.language = 'en'
            };
            
            (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = 'https://leejaelll.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>   
     
    
    

</div>
     
  
</article>
        </div>
      </div>
      
      <div class="footer">
    <div class="flex-container">
        <div class="footer-text">
            
            
            
                Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> & <a target="_blank" rel="noopener" href="https://github.com/zoeingwingkei/frame/">Frame</a>
                
        </div>
    </div>
</div>

    </div>

    
      <div class="search-popup">
    <div class="search-popup-overlay">  
    </div>
    <div class="search-popup-window" >
        <div class="search-header">
            <div class="search-input-container">
              <input autocomplete="off" autocapitalize="off" maxlength="80"
                     placeholder="Search Anything" spellcheck="false"
                     type="search" class="search-input">
            </div>
            <div class="search-close-btn">
                <div class="icon close-btn"></div>
            </div>
        </div>
        <div class="search-result-container">
        </div>
    </div>
</div>

<script>
    const searchConfig = {
        path             : "/search.xml",
        top_n_per_article: "1",
        unescape         : "false",
        trigger: "auto",
        preload: "false"
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script>
<script src="/js/search.js"></script>
    
    

  </body>
</html>
