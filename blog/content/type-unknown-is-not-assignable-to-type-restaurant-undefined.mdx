---
title: "Type 'unknown' is not assignable to type 'Restaurant[] | undefined'."
date: 2023-05-30
tags: ['Error', 'TypeScript']
thumbnail: /thumbnails/typescript.png
---

import { Callout } from 'fumadocs-ui/components/callout';

useFetchë¥¼ ì‚¬ìš©í•´ì„œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ê³  ê·¸ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ë Œë”ë§ì„ í•˜ë ¤ê³  ì½”ë“œë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

```text
import { useFetch } from 'usehooks-ts';// '/restaurants' endpointë¡œ ì‹ë‹¹ ëª©ë¡ ë°›ì•„ì˜¤ê¸°export default function useFetchRestaurants() {  return useFetch('http://localhost:9999/restaurants');}
```

ê·¸ë¦¬ê³  App ì»´í¬ë„ŒíŠ¸ì—ì„œ `const { data } = useFetchRestaurants()`ë¡œ ë¶ˆëŸ¬ì„œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í–ˆëŠ”ë°ìš”, dataì˜ íƒ€ì…ì„ ëª¨ë¥¸ë‹¤ëŠ” ì—ëŸ¬ë¥¼ í™•ì¸í–ˆìŠµë‹ˆë‹¤.

ì´ë•Œ ë“  ìƒê°ì€ â€˜dataëŠ” undefinedì¼ ìˆ˜ë„ ìˆê³  ë°°ì—´ì¼ ìˆ˜ë„ ìˆê² êµ¬ë‚˜!ğŸ¤”â€™ì˜€ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ dataì— Unionìœ¼ë¡œ íƒ€ì…ì„ ì§€ì •í•´ì¤˜ì•¼ê² ë‹¤!ë¼ëŠ” ìƒê°ì„ í–ˆìŠµë‹ˆë‹¤.

```text
const { data }: { data: Restaurant[] | undefined } = useFetchRestaurants();
```

ì´ë ‡ê²Œ ì‘ì„±í•´ë„ ì•„ë˜ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

<Callout>
Type 'State' is not assignable to type `{ data: Restaurant[] | undefined; }`. Types of property 'data' are incompatible. Type 'unknown' is not assignable to type 'Restaurant[] | undefined'.
</Callout>

ë„ëŒ€ì²´ ì´ê²Œ ë¬´ìŠ¨ ë§ì¸ê°€ í•˜ê³  ì‚´í´ë³´ë‹ˆ dataë¼ëŠ” ë³€ìˆ˜ëŠ” unknownì´ë¼ì„œ ì œê°€ ì§€ì •í•œ íƒ€ì…ì„ í• ë‹¹í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¼ ì–´ë–»ê²Œ í•´ì•¼í•˜ëŠ”ê±°ì§€â€¦? ê¸°ë³¸ ê°œë…ë§Œ ìµíŒ ì €ì—ê² ë„ˆë¬´ ë§‰ë§‰í•œ ë¬¸ì œë¼ê³  ìƒê°ì´ ë“¤ì—ˆê³  Chat GPTì—ê²Œ ë„ì›€ì„ ë°›ì•„ë´¤ìŠµë‹ˆë‹¤.
unknown íƒ€ì…ì˜ ê°’ì„ í™•ì •ì ì¸ íƒ€ì…ìœ¼ë¡œ ë³€í™˜í•˜ê¸° ìœ„í•´ì„œëŠ” íƒ€ì… ë‹¨ì–¸(Type Assertion)ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ìˆ˜ì •í•´ë³´ì„¸ìš”
ë¼ëŠ” ë‹µë³€ì„ ë°›ì•˜ê³ ,

```text
const { data }: { data: Restaurant[] | undefined } = useFetchRestaurants() as {  data: Restaurant[] | undefined;};
```

ìœ„ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ì—ëŸ¬ ì—†ì´ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.
ê·¸ëŸ°ë° ë¬¸ë“ â€˜unknownì€ ê°€ê¸‰ì  ì‚¬ìš©í•˜ì§€ ë§ë¼ê³  í–ˆëŠ”ë°, ì €ë ‡ê²Œ íƒ€ì… ë‹¨ì–¸ì„ í•œë‹¤ëŠ” ê±´ unknownì„ ì‚¬ìš©í–ˆë‹¤ëŠ” ê±° ì•„ë‹Œê°€?â€™ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.

### âœ… í•´ê²°ë°©ë²•

usehooks-ts ê³µì‹ë¬¸ì„œì—ì„œ Usageë¥¼ ì‚´í´ë³´ë‹ˆ, useFetchë¥¼ í•  ë•Œ íƒ€ì…ì„ ì§€ì •í•´ì¤˜ì•¼ í•˜ëŠ” ê²ƒì„ ì•Œê²Œë˜ì—ˆìŠµë‹ˆë‹¤.

```text
import { useFetch } from 'usehooks-ts';const url = `http://jsonplaceholder.typicode.com/posts`;interface Post {  userId: number;  id: number;  title: string;  body: string;}export default function Component() {  const { data, error } = useFetch<Post[]>(url); // âœ… useFetchí•  ë•Œ ì œë„¤ë¦­ìœ¼ë¡œ íƒ€ì…ì„ ì•Œë ¤ì¤˜ì•¼í•œë‹¤.  if (error) return <p>There is an error.</p>;  if (!data) return <p>Loading...</p>;  return <p>{data[0].title}</p>;}
```

ì´ ë°©ì‹ì„ ì ìš©í•´ì„œ ì½”ë“œë¥¼ ìˆ˜ì •í•´ë³´ë©´

```text
import { useFetch } from 'usehooks-ts';import Restaurant from '../types/Restaurant';// '/restaurants' endpointë¡œ ì‹ë‹¹ ëª©ë¡ ë°›ì•„ì˜¤ê¸°export default function useFetchRestaurants() {  const { data, error } = useFetch<Restaurant[]>(    'http://localhost:9999/restaurants'  );  return { data };}
```

ì´ë ‡ê²Œ ë˜ë©´

```text
const { data: restaurants } = useFetchRestaurants();
```

ì‚¬ìš©í•˜ëŠ” ì½”ë“œ ë‚´ì—ì„œ ì•„ë¬´ëŸ° ë°˜í™˜ê°’ì„ ì¨ì£¼ì§€ ì•Šì•„ë„ ë¬¸ì œ ì—†ì´ ë™ì‘í•©ë‹ˆë‹¤ â˜ºï¸

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì•„ì§ ìµìˆ™í•˜ì§€ ì•Šì•„ì„œ ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ ë´ë„ ì´ ì—ëŸ¬ ë©”ì„¸ì§€ê°€ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ì§€ ì´í•´í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì…ë‹ˆë‹¤.. ì˜¤íˆë ¤ ì¢‹ì€ ì ì´ë¼ë©´ ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ í•´ê²°í•˜ë©´ì„œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê³µë¶€í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ì£ !

## ğŸ”¨ Reference Code

ì´ì „ì— ì œê°€ ì‘ì„±í•œ ì½”ë“œì—ì„œëŠ” `return {data}`ë¥¼ ë³´ëƒˆì—ˆëŠ”ë°ìš”, ì´ë ‡ê²Œ ë˜ë©´ dataê°€ undefinedìœ¼ë¡œ ë“¤ì–´ì˜¤ê±°ë‚˜ ë°ì´í„°ë¥¼ ë‹´ì„ ë°°ì—´ì´ ë“¤ì–´ì˜µë‹ˆë‹¤. í•˜ì§€ë§Œ ì €ëŠ” ì§€ê¸ˆ undefinedê°€ í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— useFetchë¥¼ í•  ë•Œ dataê°€ undefinedì´ë©´ ë¹ˆ ë°°ì—´ì„ ë¦¬í„´í•˜ëŠ” ê²ƒì´ ë‚«ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.
ì™œëƒí•˜ë©´ ë°ì´í„°ë¥¼ ë°›ì•„ì„œ mapìœ¼ë¡œ ìˆœíšŒí•  ê²ƒì´ê¸° ë•Œë¬¸ì— undefinedê°€ ë“¤ì–´ì˜¤ë©´ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ë¹ˆ ë°°ì—´ì¼ ë•ŒëŠ” ì•„ë¬´ ê²ƒë„ ë Œë”ë§ì„ ì‹œí‚¤ì§€ ì•Šì„ ë¿ ì—ëŸ¬ëŠ” ë°œìƒì‹œí‚¤ì§€ ì•ŠìŠµë‹ˆë‹¤.

```text
interface Restaurants {  [restaurants: string]: Restaurant[];}export default function useFetchRestaurants() {  const { data } = useFetch<Restaurants>(url);  if (!data) {    return [];  }  return data.restaurants;}
```
