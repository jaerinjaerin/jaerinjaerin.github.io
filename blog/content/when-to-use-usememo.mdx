---
title: 'useMemoëŠ” ì–¸ì œ ì‚¬ìš©í•˜ëŠ” ê±¸ê¹Œ? ğŸ™‹ğŸ»'
description: 'useMemoëŠ” ì–¸ì œ ì‚¬ìš©í•˜ëŠ” ê±¸ê¹Œ? ğŸ™‹ğŸ»'
date: 2023-05-19
tags: ['React']
thumbnail: /thumbnails/react.png
---

ì˜¤ëŠ˜ì€ useMemoì™€ useCallbackì— ëŒ€í•´ì„œ ë°°ì›Œë³´ì•˜ìŠµë‹ˆë‹¤.
ë‘ Hookì˜ ê³µí†µì ì´ë¼ë©´ ë Œë”ë§ ìµœì í™”ë¥¼ ìœ„í•œ Hookì´ë‹¤ ë¼ê³  í•  ìˆ˜ ìˆê² êµ°ìš”.ë¨¼ì € useMemoì— ëŒ€í•´ì„œ ë°°ìš´ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.

## useMemo

useMemoëŠ” ë¦¬ë Œë”ë§ ì‚¬ì´ì— ì—°ì‚° ê²°ê³¼ë¥¼ ìºì‹œ(cache)í•  ìˆ˜ ìˆëŠ” React Hookì…ë‹ˆë‹¤.ì¦‰, íŠ¹ì • ê°’ì„ ì¬ì‚¬ìš©í•˜ê³ ì í•  ë•Œ ì‚¬ìš©í•˜ëŠ” Hookì´ì£ .

```jsx
const cachedValue = useMemo(calculateValue, dependencies); // exampleconst calculateValue = useMemo(() => calculate(value), [value]);
```

## useMemo, ì–´ë–¤ ìƒí™©ì—ì„œ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ê¹Œìš”?

ê¸°ë³¸ì ìœ¼ë¡œ ReactëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ë Œë”ë§í•  ë•Œë§ˆë‹¤ ì»´í¬ë„ŒíŠ¸ ì „ì²´ë¥¼ ì‹¤í–‰ì‹œí‚¤ê¸° ë•Œë¬¸ì— ì—°ì‚°ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ë³µì¡í•œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤ë©´ ë Œë”ë§ ì†ë„ì—ë„ ì˜í–¥ì„ ë¯¸ì¹˜ê²Œ ë©ë‹ˆë‹¤.
ì¼ë°˜ì ìœ¼ë¡œ ëŒ€ë¶€ë¶„ì˜ ê³„ì‚°ì€ ë§¤ìš° ë¹ ë¥´ê¸° ë•Œë¬¸ì— ë¬¸ì œê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤ê³  í•˜ëŠ”ë°ìš”, ê·œëª¨ê°€ í° ë°°ì—´ì„ í•„í„°ë§í•˜ê±°ë‚˜ ë³€í™˜í•˜ëŠ” ê²½ìš° ë°ì´í„°ê°€ ë³€ê²½ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ê³„ì‚°ì„ ë‹¤ì‹œ ìˆ˜í–‰í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì´ ë•Œ useMemoë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
ğŸ‘‰ğŸ» ì´ëŸ¬í•œ ìœ í˜•ì˜ ìºì‹±ì„ **Memoization**ì´ë¼ê³  í•©ë‹ˆë‹¤.

## useMemoë¥¼ í†µí•´ ì•± ìµœì í™”í•˜ëŠ” ë°©ë²•

ì´ë¦„ì„ ì…ë ¥í•˜ëŠ” inputì°½ê³¼ ë‘ ê°œì˜ input ê°’ì„ ë”í•´ì„œ ì¶œë ¥í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë ¤ê³  í•©ë‹ˆë‹¤.

![](/images/content/when-to-use-usememo/1.png)

useMemoë¥¼ ë°°ìš°ê¸° ì „ì— ì½”ë“œë¥¼ ì‘ì„±í–ˆë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.

```jsx
import React, { useState } from 'react';
const add = (num1, num2) => {
  console.log(`${num1}, ${num2}: ì§€ê¸ˆ ë“¤ì–´ì˜¨ ìˆ«ì`);
  return Number(num1) + Number(num2);
};
export default function App() {
  const [name, setName] = useState('');
  const [val1, setVal1] = useState(0);
  const [val2, setVal2] = useState(0);
  const answer = add(val1, val2);
  return (
    <div>
      {' '}
      <input
        className='name-input'
        placeholder='ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”'
        value={name}
        type='text'
        onChange={(e) => setName(e.target.value)}
      /> <input
        className='value-input'
        placeholder='ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”'
        value={val1}
        type='number'
        onChange={(e) => setVal1(Number(e.target.value))}
      /> <input
        className='value-input'
        placeholder='ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”'
        value={val2}
        type='number'
        onChange={(e) => setVal2(Number(e.target.value))}
      /> <div>{answer}</div>{' '}
    </div>
  );
}
```

ìœ„ì˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‹¤ì œë¡œ ì—°ì‚° ë¡œì§ì— ì˜í–¥ì„ ì£¼ëŠ” ê°’ì€ val1ê³¼ val2ì…ë‹ˆë‹¤. ì¦‰, ì´ë¦„ì„ ì…ë ¥í•  ë•Œì—ëŠ” add í•¨ìˆ˜ê°€ í˜¸ì¶œë  í•„ìš”ê°€ ì—†ëŠ”ê±°ì£ . í•˜ì§€ë§Œ í˜„ì¬ëŠ” ì´ë¦„ì„ ì‘ì„±í•  ë•Œë§ˆë‹¤ add í•¨ìˆ˜ë„ í•¨ê»˜ í˜¸ì¶œë˜ê³  ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
![](/images/content/when-to-use-usememo/2.png)

_ì´ë¦„ inputë§Œ ê°€ì§€ê³  ë†€ì•˜ëŠ”ë° add í•¨ìˆ˜ê°€ 40ë²ˆ í˜¸ì¶œë˜ëŠ” ë§¤ì§..ğŸ˜±_

### ê·¸ëŸ¼ ì´ì œ useMemoë¥¼ í™œìš©í•´ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ ìµœì í™”í•´ë³´ìêµ¬ìš”!

add í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” ê°’ì´ ë³€í•˜ì§€ ì•Šì•˜ë‹¤ë©´ í˜¸ì¶œí•  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— answerì˜ ê°’ì„ ìºì‹±í•´ë†“ìœ¼ë©´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.

```jsx
export default function App() {  const [name, setName] = useState('');  const [val1, setVal1] = useState(0);  const [val2, setVal2] = useState(0);  const answer = useMemo(() => add(val1, val2), [val1, val2]);  // ...(ìƒëµ)}
```

ğŸ‘‰ğŸ» useMemoë¥¼ ì‚¬ìš©í•˜ë©´ ì´ë¦„ì„ ì…ë ¥í•  ë• val1ê³¼ val2ì˜ ê°’ì´ ë³€í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— addí•¨ìˆ˜ì˜ í˜¸ì¶œì´ ì¼ì–´ë‚˜ì§€ ì•ŠìŠµë‹ˆë‹¤ :)

### ğŸ¢ ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ ê±´ë„ˆë›¸ ë•Œë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (Skipping re-rendering of components)

ê²½ìš°ì— ë”°ë¼ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ ì„±ëŠ¥ì„ ìµœì í™”í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. TodoList ì»´í¬ë„ŒíŠ¸ê°€ í•˜ìœ„ List ì»´í¬ë„ŒíŠ¸ì— í”„ë¡œí¼í‹°ë¡œ visibleTodosë¥¼ ì „ë‹¬í•œë‹¤ê³  ê°€ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```jsx
export default function TodoList({ todos, tab, theme }) {  // ...  return (    <div className={theme}>      <List items={visibleTodos} />    </div>  );}
```

ë¦¬ì•¡íŠ¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë˜ë©´ ì¬ê·€ì ìœ¼ë¡œ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ë Œë”ë§ì‹œí‚µë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— TodoList ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ë Œë”ë§ë˜ë©´ List ì»´í¬ë„ŒíŠ¸ë„ ë‹¤ì‹œ ë Œë”ë§ì´ ë©ë‹ˆë‹¤. ì´ë•Œ ë¦¬ë Œë”ë§ì´ ëŠë¦¬ë‹¤ëŠ” ê²ƒì„ í™•ì¸í–ˆë‹¤ë©´ Listë¥¼ memoë¡œ ê°ì‹¸ì„œ propsê°€ ì´ì „ ë Œë”ë§ê³¼ ë™ì¼í•  ë•Œ ë¦¬ë Œë”ë§ì„ ê±´ë„ˆë›°ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
import { memo } from 'react';const List = memo(function List({ items }) {  // ...});
```

TodoList ì»´í¬ë„ŒíŠ¸ì—ì„œ filterTodos ë°°ì—´ì„ ë§Œë“œëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì„œ ë°°ì—´ì„ ê°€ì ¸ì˜¤ê³ , ë§Œë“  ë°°ì—´ì„ List ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•œë‹¤ê³  ê°€ì •ì„ í–ˆì„ ë•Œ, useMemoì™€ memoë¥¼ ì‚¬ìš©í•´ ìµœì í™”í•œ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```jsx
// App.jsimport { useState } from 'react';import { createTodos } from './utils.js';import TodoList from './TodoList.js';const todos = createTodos();export default function App() {  const [tab, setTab] = useState('all');  const [isDark, setIsDark] = useState(false);  return (    <>      <button onClick={() => setTab('all')}>All</button>      <button onClick={() => setTab('active')}>Active</button>      <button onClick={() => setTab('completed')}>Completed</button>      <br />      <label>        <input          type="checkbox"          checked={isDark}          onChange={(e) => setIsDark(e.target.checked)}        />        Dark mode      </label>      <hr />      <TodoList todos={todos} tab={tab} theme={isDark ? 'dark' : 'light'} />    </>  );}
```

```jsx
// TodoList.jsimport { useMemo } from 'react';import List from './List.js';import { filterTodos } from './utils.js';// âœ… TodoList ì»´í¬ë„ŒíŠ¸ëŠ” App.jsë¡œë¶€í„° todos, theme, tabì„ propsë¡œ ë°›ëŠ”ë‹¤.export default function TodoList({ todos, theme, tab }) {  const visibleTodos = useMemo(() => filterTodos(todos, tab), [todos, tab]); // âœ… tabì— í•´ë‹¹í•˜ëŠ” ë°°ì—´ì„ ë§Œë“ ë‹¤.  return (    <div className={theme}>      <p>        <b>          Note: <code>List</code> is artificially slowed down!        </b>      </p>      <List items={visibleTodos} /> // âœ… List ì»´í¬ë„ŒíŠ¸ì— ë°°ì—´ ì „ë‹¬    </div>  );}
```

```jsx
import { memo } from 'react'; // âœ… memoë¡œ í•¨ìˆ˜ë¥¼ ë˜í•‘í•œ í›„ exportconst List = memo(function List({ items }) {  return (    <ul>      {items.map((item) => (        <li key={item.id}>{item.completed ? <s>{item.text}</s> : item.text}</li>      ))}    </ul>  );});export default List;
```

ì»´í¬ë„ŒíŠ¸ì—ì„œ ì—¬ëŸ¬ ê°œì˜ useStateë¥¼ ì‚¬ìš©í•´ì„œ ì‘ì—…í•˜ëŠ” ì¼ì´ ë§ì•˜ëŠ”ë°, ë¦¬ë Œë”ë§ë˜ë©´ì„œ êµ³ì´ í˜¸ì¶œë˜ì§€ ì•Šì•„ë„ë˜ëŠ” í•¨ìˆ˜ë“¤ì´ í˜¸ì¶œë˜ëŠ” ê²½í—˜ì„ í–ˆì—ˆìŠµë‹ˆë‹¤. â€˜ì´ëŸ° ë¶€ë¶„ì€ ë¦¬ì•¡íŠ¸ì—ì„œ ì–´ì©” ìˆ˜ ì—†ëŠ” ë¶€ë¶„ì¸ê°€?â€™ ë¼ê³  ìƒê°í–ˆì—ˆëŠ”ë° ì´ë²ˆ ê¸°íšŒë¥¼ í†µí•´ ìµœì í™”í•˜ëŠ” ë°©ë²•ì„ ë°°ìš¸ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.ğŸ˜ƒ
