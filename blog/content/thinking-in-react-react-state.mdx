---
title: 'Thinking in React - React StateğŸš€'
date: 2023-03-27
tags: ['React']
thumbnail: /thumbnails/react.png
---

import { Callout } from 'fumadocs-ui/components/callout';

# React State

**Step 3: Find the minimal but complete representation of UI state**
**Step 4: Identify where your state should live**
**Step 5: Add inverse data flow**
ë¦¬ì•¡íŠ¸ì—ëŠ” stateë¼ëŠ” ê°œë…ì´ ìˆê³  stateê°€ ë°”ë€Œë©´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì™€ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ë Œë”ë§í•˜ê²Œ ëœë‹¤.

### React Stateì˜ ì¡°ê±´ì€?

- ë³€ê²½ë˜ì§€ ì•ŠëŠ”ê±´ stateë¡œ ë‹¤ë£° ê°€ì¹˜ê°€ ì—†ë‹¤.
- propsë¡œ ì „ë‹¬ë°›ì•˜ë‹¤ë©´ stateê°€ ì•„ë‹ˆë‹¤.
- ê³„ì‚° ê°€ëŠ¥í•˜ë©´ stateê°€ ì•„ë‹ˆë‹¤.

### ìƒíƒœëŠ” ëˆ„ê°€ ê´€ë¦¬í•´ì•¼í• ê¹Œ?

í˜„ì¬ ê´€ë¦¬í•´ì•¼í•˜ëŠ” ìƒíƒœëŠ”? ğŸ‘‰ğŸ» ì²´í¬ë°•ìŠ¤ on, off
ì²´í¬ë°•ìŠ¤ëŠ” ëˆ„ê°€ ê´€ë¦¬í•˜ëŠ” ê²Œ ì¢‹ì„ê¹Œ? ìƒíƒœë¥¼ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì— ë„˜ê²¨ì¤˜ì•¼í•˜ëŠ” ìƒí™©ì´ë¼ë©´ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì§€ê³  ìˆëŠ” ê³µí†µ ì¡°ìƒ ì»´í¬ë„ŒíŠ¸ê°€ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì´ê²ƒì„ **Lifting State Up**ì´ë¼ê³  í•œë‹¤.

### checkboxë¥¼ í´ë¦­í•˜ë©´ stockedê°€ trueì¸ ì œí’ˆì˜ ëª©ë¡ë§Œ ë‚˜ì˜¤ë„ë¡ ë§Œë“¤ê¸°

```jsx
import { useRef } from 'react';
type CheckBoxFieldProps = { label: string };
export default function CheckBoxField({ label }: CheckBoxFieldProps) {
  const id = useRef(`checkbox-${label}`.replace(/ /g, '-').toLowerCase());
  return (
    <div>
      {' '}
      <input type='checkbox' id={id.current} /> <label htmlFor={id.current}>
        {label}
      </label>{' '}
    </div>
  );
}
```

ìƒíƒœë¥¼ ê´€ë¦¬í•˜ë ¤ë©´? **useState** ì‚¬ìš©

```jsx
const [inStockOnly, setInStockOnly] = useState(false);
```

**ì²´í¬ë°•ìŠ¤ë¥¼ í´ë¦­í–ˆì„ ë•Œ inStockOnlyì˜ ê°’ì„ ë³€ê²½í•˜ëŠ” ë°©ë²•**

```text
import { useRef, useState } from 'react';type CheckBoxFieldProps = {  label: string;};export default function CheckBoxField({ label }: CheckBoxFieldProps) {  const id = useRef(`checkbox-${label}`.replace(/ /g, '-').toLowerCase());  const [inStockOnly, setInStockOnly] = useState<boolean>(false);  const handleChange = () => {    setInStockOnly(!inStockOnly);  };  return (    <div>      <input        type="checkbox"        id={id.current}        checked={inStockOnly}        onChange={handleChange}      />      <label htmlFor={id.current}>{label}</label>    </div>  );}
```

`CheckBoxField` ì»´í¬ë„ŒíŠ¸ë¥¼ ëˆ„ê°€ ì‚¬ìš©í•˜ì§€? `ProductInCategory` ì»´í¬ë„ŒíŠ¸
inStockOnlyê°€ trueê°€ ë˜ë©´ `ProductInCategory` ì»´í¬ë„ŒíŠ¸ì—ì„œ ì œí’ˆ ëª©ë¡ í•„í„°ë§ì„ í•´ì•¼í•œë‹¤.
`CheckBoxField` ì™€ `ProductInCategory` ì»´í¬ë„ŒíŠ¸ë¥¼ ëª¨ë‘ ê°€ì§€ê³  ìˆëŠ” ì¡°ìƒ ì»´í¬ë„ŒíŠ¸ë¥¼ ì°¾ìœ¼ë©´?
ğŸ‘‰ğŸ»Â `FilterableProductTable` ì»´í¬ë„ŒíŠ¸, ì¦‰ inStockOnlyê°€ ìˆì–´ì•¼ í•˜ëŠ” ê³³ì´ë‹¤.

### TextField ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-03-24 á„‹á…©á„’á…® 2.27.05.png](/images/content/thinking-in-react-state/1.png)

```text
type TextFieldProps = {  placeholder: string;};export default function TextField({ placeholder }: TextFieldProps) {  return (    <div>      <input type="text" placeholder={placeholder} />    </div>  );}
```

### FilterableProductTable ì»´í¬ë„ŒíŠ¸ê°€ ê°€ì ¸ì•¼ í•  state

```text
import ProductTable from './ProductTable';import SearchBar from './SearchBar';import Product from '../types/Product';type FilterableProductTableProps = {  products: Product[];};export default function FilterableProductTable({  products,}: FilterableProductTableProps) {  // inStockOnlyê°€ ìˆì–´ì•¼ í•˜ëŠ” ê³³  // filterTextê°€ ìˆì–´ì•¼ í•˜ëŠ” ê³³  return (    <div>      <SearchBar />      <ProductTable products={products} />    </div>  );}
```

ê²€ìƒ‰ì–´ë¼ëŠ” ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³  ì‹¶ë‹¤ë©´

```text
export default function TextField({ placeholder }: TextFieldProps) {  const [filterText, setFilterText] = useState<string>('');  return (    <div>      <input type="text" placeholder={placeholder} value={filterText} />    </div>  );}
```

í‚¤ë¥¼ ì…ë ¥í•  ë•Œë§ˆë‹¤ ë¬´ì—‡ì„ ì…ë ¥í–ˆëŠ” ì§€ í™•ì¸í•˜ë ¤ë©´ onChange ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤.

```text
export default function TextField({ placeholder }: TextFieldProps) {  const [filterText, setFilterText] = useState<string>('');  const handleChange = (event: React.ChangeEvent) => {    const { value } = event.target;    setFilterText(value);  };  return (    <div>      <input        type="text"        placeholder={placeholder}        value={filterText}        onChange={handleChange}      />    </div>  );}
```

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-03-24 á„‹á…©á„’á…® 3.25.39.png](/images/content/thinking-in-react-state/2.png)

ğŸ‘‰ğŸ»Â targetì„ ì–»ì—ˆëŠ”ë° ë¶ˆë¶„ëª…í•´ì„œ ë‚˜ì˜¤ëŠ” ì—ëŸ¬. í˜„ì¬ íƒ€ê²Ÿì€ input elementì´ë¯€ë¡œ ë¡œ íƒ€ì…ì„ ì§€ì •í•´ì¤€ë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-03-24 á„‹á…©á„’á…® 3.30.17.png](/images/content/thinking-in-react-state/3.png)

FilterableProductTable ì»´í¬ë„ŒíŠ¸ë¡œ ì‘ì„±í•œ stateë¥¼ ì˜®ê²¨ì¤€ë‹¤.

<Callout>
  ì¦‰, stateê°€ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¨¼ì € ì‘ì„±í•˜ê³  ê³µí†µ ì¡°ìƒ ì»´í¬ë„ŒíŠ¸ë¡œ ì˜®ê¸°ëŠ”
  ë°©ë²•ì´ Lifting State Up
</Callout>

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-03-24 á„‹á…©á„’á…® 3.42.17.png](/images/content/thinking-in-react-state/4.png)

ê·¸ë¦¬ê³  SearchBar ì»´í¬ë„ŒíŠ¸ì— propsë¡œ ë„˜ê²¨ì£¼ê¸°
SerachBar ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ”?

```text
import CheckBoxField from './CheckBoxField';import TextField from './TextField';type SearchBarProps = {  filterText: string;};export default function SearchBar({ filterText }: SearchBarProps) {  return (    <div className="seach-bar">      <TextField placeholder="Search..." filterText={filterText} />      <CheckBoxField label="Only Show products in stock" />    </div>  );}
```

propsìœ¼ë¡œ ë°›ì•„ì™”ê¸° ë•Œë¬¸ì— SearchBarPropsë¡œ íƒ€ì…ì„ ì§€ì •í•´ì£¼ê³ , TextField ì»´í¬ë„ŒíŠ¸ì— propsë¡œ ë‹¤ì‹œ ì „ë‹¬í•´ì£¼ê¸°
TextField ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ”?

```text
import React from 'react';type TextFieldProps = {  filterText: string;  placeholder: string;};export default function TextField({ filterText, placeholder }: TextFieldProps) {  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {    const { value } = event.target;    setFilterText(value);  };  return (    <div>      <input        type="text"        placeholder={placeholder}        value={filterText}        onChange={handleChange}      />    </div>  );}
```

TextFieldPropsì— filterText prop íƒ€ì… ì§€ì •í•˜ê¸°
ì´ì œ useStateëŠ” ë” ì´ìƒ í•„ìš” ì—†ê¸° ë•Œë¬¸ì— ì§€ì›Œë„ ëœë‹¤.

### ë¬¸ì œëŠ” setFilterText

ë°ì´í„°ë¥¼ ìœ„ì—ì„œ ì•„ë˜ë¡œ ë³´ë‚´ëŠ” ê±´ ë¬¸ì œ ì—†ëŠ”ë°, í•¨ìˆ˜ë¥¼ ì•„ë˜ì„œ ìœ„ë¡œ ë³´ë‚´ì•¼ í•˜ëŠ” ìƒí™©
ì´ëŸ´ ë•ŒëŠ” í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì˜ propsë¡œ í•¨ìˆ˜ë¥¼ ì „ë‹¬í•œë‹¤. (ì½œë°± í•¨ìˆ˜)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-03-24 á„‹á…©á„’á…® 3.52.11.png](/images/content/thinking-in-react-state/5.png)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-03-24 á„‹á…©á„’á…® 3.53.42.png](/images/content/thinking-in-react-state/6.png)

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-03-24 á„‹á…©á„’á…® 3.55.23.png](/images/content/thinking-in-react-state/7.png)

### filterText propì„ ProductTable ì»´í¬ë„ŒíŠ¸ë¡œ ë„˜ê²¨ì£¼ê¸°

```text
<ProductTable products={products} filterText={filterText} />
```

ì´ë ‡ê²Œ ë„˜ê²¨ì£¼ëŠ” ë°©ë²•ì´ ìˆì§€ë§Œ, ë˜ ë‹¤ë¥¸ í•œ ê°€ì§€ ë°©ë²•ì€
filterText ê°’ì— í•´ë‹¹í•˜ëŠ” productsë§Œ ë„˜ê²¨ì£¼ê¸°. (propì„ í•œê°œë§Œ ë„˜ê²¨ì¤˜ë„ ë˜ëŠ” ì¥ì ì´ ìˆë‹¤.)

```text
export default function FilterableProductTable({  products,}: FilterableProductTableProps) {  // inStockOnlyê°€ ìˆì–´ì•¼ í•˜ëŠ” ê³³  // filterTextê°€ ìˆì–´ì•¼ í•˜ëŠ” ê³³  const [filterText, setFilterText] = useState<string>('');  const query = filterText.trim().toLowerCase();  const filteredProducts = !query.length    ? products    : products.filter((product) => product.name.toLowerCase().includes(query));  return (    <div>      <SearchBar filterText={filterText} setFilterText={setFilterText} />      <ProductTable products={filteredProducts} />    </div>  );}
```

<Callout>inStockOnly, setInStockOnlyë„ ë™ì¼í•˜ê²Œ ë¦¬íŒ©í† ë§í•˜ê¸°</Callout>
