---
title: 'useCallbackì€ ë¬´ì—‡ì´ê³ , useMemoì™€ì˜ ì°¨ì´ëŠ” ë¬´ì—‡ì¼ê¹Œ? ğŸ–ï¸'
description: 'useCallbackì€ ë¬´ì—‡ì´ê³ , useMemoì™€ì˜ ì°¨ì´ëŠ” ë¬´ì—‡ì¼ê¹Œ? ğŸ–ï¸'
date: 2023-05-19
tags: ['React']
thumbnail: /thumbnails/react.png
---

## useCallback

useCallbackì€ ë¦¬ë Œë”ë§ ì‚¬ì´ì— í•¨ìˆ˜ ì •ì˜ë¥¼ ìºì‹œí•  ìˆ˜ ìˆëŠ” React Hookì…ë‹ˆë‹¤.

```jsx
const cachedFn = useCallback(fn, dependencies); // exampleimport { useCallback } from 'react';function Calculator({ x, y }) {  const add = useCallback(() => x + y, [x, y]);  return (    <>      <div>{add()}</div>    </>  );}
```

## useCallback, ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?

### ğŸ¢ ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ì„ ê±´ë„ˆë›°ê³ ì‹¶ì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì— í•¨ìˆ˜ë¥¼ ì „ë‹¬í•  ë•Œ ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ ìºì‹±í•´ì•¼ í•  ë•Œê°€ ìˆìŠµë‹ˆë‹¤.

```jsx
import { useCallback } from 'react';function ProductPage({ productId, referrer, theme }) {  const handleSubmit = useCallback((orderDetails) => {    post('/product/' + productId + '/buy', {      referrer,      orderDetails,    });  }, [productId, referrer]);  // ...
```

useCallbackì„ ì‚¬ìš©í•˜ë ¤ë©´ ë‘ ê°€ì§€ë¥¼ ì „ë‹¬í•´ì•¼í•©ë‹ˆë‹¤.

1. ë¦¬ë Œë”ë§ ì‚¬ì´ì— ìºì‹œí•˜ë ¤ëŠ” í•¨ìˆ˜
2. í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‚¬ìš©ë˜ëŠ” ëª¨ë“  ê°’ì„ í¬í•¨í•œ dependencies List

ì²˜ìŒ ì´ˆê¸° ë Œë”ë§ì—ì„œ useCallbackì—ì„œ returned functionì€ ì „ë‹¬í•œ í•¨ìˆ˜ê°€ ë©ë‹ˆë‹¤.
ë‹¤ìŒ ë Œë”ë§ì—ì„œ ReactëŠ” ì¢…ì†ì„±ì„ ì´ì „ ë Œë”ë§ì—ì„œ ì „ë‹¬í•œ ì¢…ì†ì„±ê³¼ ë¹„êµí•©ë‹ˆë‹¤.ğŸ‘‰ğŸ» ì¢…ì†ì„± ì¤‘ ë³€ê²½ëœ ê²ƒì´ ì—†ë‹¤ë©´(Object.isì™€ ë¹„êµí–ˆì„ ë•Œ), useCallbackì€ ì´ì „ê³¼ ë™ì¼í•œ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ useCallbackì€ ì´ ë Œë”ë§ì—ì„œ ì „ë‹¬í•œ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
ë‹¤ì‹œ ë§í•´, useCallbackì€ ì¢…ì†ì„±ì´ ë³€ê²½ë  ë•Œê¹Œì§€ ë¦¬ë Œë”ë§ ì‚¬ì´ì— í•¨ìˆ˜ë¥¼ ìºì‹œí•©ë‹ˆë‹¤.
ProductPageì—ì„œ ShippingForm ì»´í¬ë„ŒíŠ¸ë¡œ handleSubmit í•¨ìˆ˜ë¥¼ ì „ë‹¬í•œë‹¤ê³  ê°€ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```jsx
function ProductPage({ productId, referrer, theme }) {  // ...  return (    <div className={theme}>      <ShippingForm onSubmit={handleSubmit} /> // ğŸš§ ShippingForm ì»´í¬ë„ŒíŠ¸ì—ì„œ memo ìµœì í™”ë¥¼ í–ˆë‹¤ê³  ê°€ì •    </div>  );
```

**JavaScriptì—ì„œ í•¨ìˆ˜ëŠ” ê°ì²´ì…ë‹ˆë‹¤.**
JavaScriptì—ì„œ í•¨ìˆ˜ () {} ë˜ëŠ” () => {}ëŠ” {} ê°ì²´ ë¦¬í„°ëŸ´ì´ í•­ìƒ ìƒˆ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒê³¼ ìœ ì‚¬í•˜ê²Œ í•­ìƒ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œëŠ” ë¬¸ì œê°€ ë˜ì§€ ì•Šì§€ë§Œ ShippingForm propsëŠ” ë™ì¼í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— memo ìµœì í™”ê°€ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ ë•Œ useCallbackì´ ìœ ìš©í•©ë‹ˆë‹¤.

```jsx
function ProductPage({ productId, referrer, theme }) {
  const handleSubmit = useCallback(
    (orderDetails) => {
      post('/product/' + productId + '/buy', { referrer, orderDetails });
    },
    [productId, referrer]
  );
  return (
    <div className={theme}>
      {' '}
      <ShippingForm onSubmit={handleSubmit} />{' '}
    </div>
  );
}
```

ğŸ‘‰ğŸ» handleSubmitì„ useCallbackìœ¼ë¡œ ê°ì‹¸ë©´ ì˜ì¡´ì„±ì´ ë³€ê²½ë  ë•Œê¹Œì§€ ì¬ë Œë”ë§ ê°„ì— ë™ì¼í•œ í•¨ìˆ˜ê°€ ë˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## useCallbackì„ ì´ìš©í•˜ì—¬ ì•± ìµœì í™”í•˜ê¸°

```jsx
// App.jsexport default function App() {  const [input, setInput] = useState(1);  const [light, setLight] = useState(true);  const theme = {    backgroundColor: light ? 'White' : 'grey',    color: light ? 'grey' : 'white',  };  const getItems = () => {    return [input + 10, input + 100];  };  const handleChange = (event) => {    if (Number(event.target.value)) {      setInput(Number(event.target.value));    }  };  return (    <div style={theme}>      <input        type="number"        className="input"        value={input}        onChange={handleChange}      />      <button        className={(light ? 'light' : 'dark') + ' button'}        onClick={() => setLight((prevLight) => !prevLight)}      >        {light ? 'dark mode' : 'light mode'}      </button>      <List getItems={getItems} />    </div>  );}
```

List ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” getItems í•¨ìˆ˜ë¥¼ ì „ë‹¬ë°›ì•„ì„œ useEffect ë‚´ì—ì„œ ì‹¤í–‰ì‹œí‚¨ í›„ itemsì— ë°°ì—´ì„ ì €ì¥í•©ë‹ˆë‹¤.

```jsx
// List.jsimport { useState, useEffect } from 'react';function List({ getItems }) {  /* Initial state of the items */  const [items, setItems] = useState([]);  /* This hook sets the value of items if      getItems object changes */  useEffect(() => {    console.log('ì•„ì´í…œì„ ê°€ì ¸ì˜µë‹ˆë‹¤.');    setItems(getItems());  }, [getItems]);  /* Maps the items to a list */  return (    <div>      {items.map((item) => (        <div key={item}>{item}</div>      ))}    </div>  );}export default List;
```

List ì»´í¬ë„ŒíŠ¸ì˜ ë¦¬ë Œë”ë§ì€ App ì»´í¬ë„ŒíŠ¸ì˜ state ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ê³„ì†í•´ì„œ ë°œìƒí•©ë‹ˆë‹¤. useEffect ë‚´ `console.log('ì•„ì´í…œì„ ê°€ì ¸ì˜µë‹ˆë‹¤.')`ê°€ ì–¸ì œ ì¶œë ¥ë˜ëŠ”ì§€ í™•ì¸í•´ë³´ë©´

- App ì»´í¬ë„ŒíŠ¸ì˜ input ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ
- App ì»´í¬ë„ŒíŠ¸ì˜ light ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ

ë‘ ê°€ì§€ ê²½ìš°ì— ì¶œë ¥ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰, í˜„ì¬ëŠ” `button` dark modeì„ ëˆŒëŸ¬ë„ getItemsì˜ í•¨ìˆ˜ê°€ ë™ì‘í•œë‹¤ëŠ”ê±°ì£ . ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•, List ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë˜ë©´ì„œ getItems í•¨ìˆ˜ë„ ìƒˆë¡œìš´ í•¨ìˆ˜ ê°ì²´ë¡œ ìƒì„±ë˜ì—ˆê¸° ë•Œë¬¸ì— ìƒˆë¡­ê²Œ í˜¸ì¶œì´ ë©ë‹ˆë‹¤.

![](/images/content/usecallback-vs-usememo.png)

### useCallbackì„ ì‚¬ìš©í•´ ìµœì í™”ë¥¼ ì‹œì¼œë´…ì‹œë‹¤!

ì •ì˜ëœ í•¨ìˆ˜ì— useCallbackì„ ì‚¬ìš©í•´ì•¼í•˜ë‹ˆ, getItemsê°€ ì •ì˜ëœ ê³³ì„ ì°¾ì•„ê°‘ë‹ˆë‹¤. ê·¸ë¦¬ê³  inputì˜ ê°’ì´ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì§€ ì•Šë„ë¡ useCallbackìœ¼ë¡œ ë˜í•‘í•©ë‹ˆë‹¤.

```jsx
const getItems = useCallback(() => {
  return [input + 10, input + 100];
}, [input]);
```

getItemsë¥¼ useCallbackìœ¼ë¡œ ë˜í•‘í•¨ìœ¼ë¡œì¨ ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œì—ëŠ” getItemsë¥¼ ì´ì „ ë©”ëª¨ë¦¬ì— ìºì‹±ë˜ì–´ ìˆë˜ getItems í•¨ìˆ˜ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë§Œë“¤ì–´ì„œ ìµœì í™”ë¥¼ í–ˆìŠµë‹ˆë‹¤.

## useCallbackì€ useMemoì™€ ì–´ë–¤ ì°¨ì´ì ì´ ìˆì„ê¹Œìš”?

### âœ… useMemoëŠ” í•¨ìˆ˜ í˜¸ì¶œ ê²°ê³¼ë¥¼ ìºì‹œí•©ë‹ˆë‹¤.

```jsx
const requirements = useMemo(() => {  // Calls your function and caches its result  return computeRequirements(product);}, [product]);
```

- ì´ ì˜ˆì œì—ì„œëŠ” ì œí’ˆì´ ë³€ê²½ë˜ì§€ ì•ŠëŠ” í•œ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ computeRequirements(product)ë¥¼ í˜¸ì¶œí•œ ê²°ê³¼ë¥¼ ìºì‹œí•©ë‹ˆë‹¤.
- ì´ë¥¼ í†µí•´ ë¶ˆí•„ìš”í•˜ê²Œ ShippingFormì„ ë‹¤ì‹œ ë Œë”ë§í•˜ì§€ ì•Šê³ ë„ ìš”êµ¬ì‚¬í•­ ê°ì²´ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- í•„ìš”í•œ ê²½ìš° ReactëŠ” ë Œë”ë§ ì¤‘ì— ì „ë‹¬í•œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ê²°ê³¼ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.

### âœ… useCallbackì€ í•¨ìˆ˜ ìì²´ë¥¼ ìºì‹œí•©ë‹ˆë‹¤.

```jsx
const handleSubmit = useCallback(  (orderDetails) => {    // Caches your function itself    post('/product/' + productId + '/buy', {      referrer,      orderDetails,    });  },  [productId, referrer]);
```

- useMemoì™€ ë‹¬ë¦¬ ì‚¬ìš©ìê°€ ì œê³µí•œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- ëŒ€ì‹  ì œê³µí•œ í•¨ìˆ˜ë¥¼ ìºì‹œì— ì €ì¥í•˜ì—¬ productIdë‚˜ referrerê°€ ë³€ê²½ë˜ì§€ ì•ŠëŠ” í•œ handleSubmit ìì²´ê°€ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.
- ì´ë ‡ê²Œ í•˜ë©´ ë¶ˆí•„ìš”í•˜ê²Œ ShippingFormì„ ë‹¤ì‹œ ë Œë”ë§í•˜ì§€ ì•Šê³ ë„ handleSubmit í•¨ìˆ˜ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì–‘ì‹ì„ ì œì¶œí•  ë•Œê¹Œì§€ ì½”ë“œê°€ ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
