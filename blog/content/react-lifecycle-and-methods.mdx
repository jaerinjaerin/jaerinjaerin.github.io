---
title: 'ë¦¬ì•¡íŠ¸ì˜ LifeCycleê³¼ LifeCycle Method'
description: 'ë¦¬ì•¡íŠ¸ì˜ LifeCycleê³¼ LifeCycle Method'
date: 2023-04-14
tags: ['React']
thumbnail: /thumbnails/react-lifecycle-and-methods.jpg
---

import { Callout } from 'fumadocs-ui/components/callout';

ë¦¬ì•¡íŠ¸ì˜ ìƒëª…ì£¼ê¸°ì™€ ìƒëª…ì£¼ê¸° ë©”ì„œë“œì— ëŒ€í•´ì„œ ê³µë¶€í•´ë³´ê² ìŠµë‹ˆë‹¤. ìƒëª…ì£¼ê¸° ë©”ì„œë“œì— ëŒ€í•´ì„œ ì œëŒ€ë¡œ ì‚´í´ë³´ëŠ”ê±´ ì²˜ìŒì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ë§¤ë²ˆ ë„ë§ë‹¤ë‹ˆê¸° ë°”ë¹´ëŠ”ë° ë§ì´ì£ .

### ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” ìƒëª…ì£¼ê¸°(Life Cycle)ê°€ ìˆë‹¤.

ë¦¬ì•¡íŠ¸ì˜ ê° ì»´í¬ë„ŒíŠ¸ë“¤ì€ **ë¼ì´í”„ì‚¬ì´í´ ì¦‰, ìƒëª…ì£¼ê¸°**ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ìƒëª…ì£¼ê¸°ëŠ” ì»´í¬ë„ŒíŠ¸ ìƒì„±ë¶€í„° ì‹œì‘í•´ì„œ ì—…ë°ì´íŠ¸ê°€ ë˜ê¸°ë„ í•˜ê³  ë§ˆì§€ë§‰ì—” ì†Œë©¸ë˜ëŠ” ê³¼ì •ì„ ê±°ì¹˜ê²Œ ë©ë‹ˆë‹¤.

### ë³€í™”í•˜ëŠ” ê³¼ì •ì„ ìºì¹˜í•´ì„œ ì‘ì—…ì„ í•˜ê³ ì‹¶ë‹¤.

ì»´í¬ë„ŒíŠ¸ë¥¼ ì²˜ìŒ ë Œë”ë§í•˜ëŠ” ì‹œì ì— ì–´ë– í•œ ì‘ì—…ì„ ì²˜ë¦¬í•´ì•¼í•˜ê±°ë‚˜, ì»´í¬ë„ŒíŠ¸ë¥¼ ì—…ë°ì´íŠ¸í•˜ê¸° ì „ í›„ë¡œ ì–´ë–¤ ì‘ì—…ì„ ì²˜ë¦¬í•´ì•¼ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. í˜¹ì€ ë¶ˆí•„ìš”í•œ ì—…ë°ì´íŠ¸ë¥¼ ë°©ì§€í•´ì•¼ í•  ìˆ˜ë„ ìˆì£ .
ì´ ê³¼ì •ì—ì„œ íŠ¹ì •í•œ ì´ë²¤íŠ¸ë“¤ì´ ë°œìƒí•˜ëŠ”ë° ì´ê²ƒì„ **ìƒëª…ì£¼ê¸° ë©”ì„œë“œ(LifeCycle Method)** ë¼ê³  í•©ë‹ˆë‹¤.
ëª¨ë“  ì»´í¬ë„ŒíŠ¸ëŠ” ì—¬ëŸ¬ ì¢…ë¥˜ì˜ â€œìƒëª…ì£¼ê¸° ë©”ì„œë“œâ€ë¥¼ ê°€ì§€ë©°, ì´ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©í•˜ì—¬ íŠ¹ì • ì‹œì ì— ì½”ë“œê°€ ì‹¤í–‰ë˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìƒëª…ì£¼ê¸°ëŠ” ì–´ë–»ê²Œ ìƒê²¼ëƒêµ¬ìš”? ì´ë ‡ê²Œ ìƒê²¼ìŠµë‹ˆë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 1.png](/images/content/react-lifecycle-and-methods/1.png)

ìƒëŒ€ì ìœ¼ë¡œ ìì£¼ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë©”ì„œë“œë“¤ê¹Œì§€ í•©ì¹˜ë©´ ì´ 9ê°€ì§€ì…ë‹ˆë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º.png](/images/content/react-lifecycle-and-methods/2.png)

_ì¶œì²˜: [https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/](https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/)_

### ìƒëª…ì£¼ê¸°ëŠ” ì´ 3ê°€ì§€ ì¹´í…Œê³ ë¦¬ë¡œ ë‚˜ë‰œë‹¤.

ìƒëª…ì£¼ê¸°ëŠ” ìƒì„±ë  ë•Œ(Mount), ì—…ë°ì´íŠ¸ í•  ë•Œ(Update), ì œê±°í•  ë•Œ(Unmount) ì¹´í…Œê³ ë¦¬ë¡œ ë‚˜ëˆ•ë‹ˆë‹¤.
ğŸ¤”Â **ê·¸ë ‡ë‹¤ë©´ ë§ˆìš´íŠ¸ ë˜ì—ˆë‹¤ëŠ” ê²ƒì€ ë¬´ì—‡ì„ ì˜ë¯¸í• ê¹Œìš”?**
DOMì´ ìƒì„±ë˜ê³  ë‚˜ì„œ ì›¹ ë¸Œë¼ìš°ì €ì— ë‚˜íƒ€ë‚˜ëŠ” ê²ƒì„ ë§ˆìš´íŠ¸ë¼ê³  í•©ë‹ˆë‹¤. ì¦‰, ì»´í¬ë„ŒíŠ¸ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ì–´ DOM ìƒì— ì‚½ì…ë  ë•Œë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
**ğŸ¤”Â ì—…ë°ì´íŠ¸ ë˜ì—ˆë‹¤ëŠ” ê²ƒì€?**

- propsê°€ ë°”ë€” ë•Œ
- stateê°€ ë°”ë€” ë•Œ
- ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë  ë•Œ
- this.forceUpdateë¡œ ê°•ì œë¡œ ë Œë”ë§ íŠ¸ë¦¬ê±°í•  ë•Œ

ì´ëŸ¬í•œ ê²½ìš°ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
**ğŸ¤”Â ë§ˆì§€ë§‰ìœ¼ë¡œ ì–¸ë§ˆìš´íŠ¸ ë˜ì—ˆë‹¤ëŠ” ê²ƒì€?**
ë§ˆìš´íŠ¸ì˜ ë°˜ëŒ€ ê³¼ì •ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ê°€ DOMì—ì„œ ì œê±°ë  ë•Œë¥¼ ì–¸ë§ˆìš´íŠ¸ë¼ê³  í•©ë‹ˆë‹¤.

ì ì´ì œ ìƒëª…ì£¼ê¸° ë©”ì„œë“œì— ëŒ€í•´ì„œ í•˜ë‚˜ì”© ì‚´í´ë´…ì‹œë‹¤.

![](https://pbs.twimg.com/media/DgNb9OZUEAAmONL?format=jpg&name=small)

### ìƒëª…ì£¼ê¸° ë©”ì„œë“œ ì¢…ë¥˜ëŠ” ì´ 9ê°€ì§€ë‹¤.

constructor, getDerivedStateFromProps, shouldComponentUpdate, render, getSnapshotBeforeUpdate, componentDidMount, componentDidUpdate, componentWillUnmount, componentDidCatch
ë©”ì„œë“œ ì´ë¦„ë§Œ ë´ì„  ë­í•˜ëŠ” ë†ˆë“¤ì¸ì§€ ì´í•´ê°€ ì•ˆê°€ë¯€ë¡œ.. ì ‘ë‘ì‚¬ë¡œ êµ¬ë¶„ì„ í•´ë³´ìë©´,

- Will ì ‘ë‘ì‚¬ê°€ ë¶™ì€ ë©”ì„œë“œëŠ” ğŸ‘‰ğŸ» ì‘ë™í•˜ê¸° ì „ì— íŠ¹ì • ì‘ì—…ì„ ì‹¤í–‰
- Did ì ‘ë‘ì‚¬ê°€ ë¶™ì€ ë©”ì„œë“œëŠ” ğŸ‘‰ğŸ» ì‘ë™í•œ í›„ì— ì‘ì—…ì„ ì‹¤í–‰

ìš°ì„  ì´ë ‡ê²Œë§Œ ì•Œì•„ë‘ê³  ë„˜ì–´ê°‘ì‹œë‹¤.

### ë§ˆìš´íŠ¸ë  ë•Œ ë°œìƒí•˜ëŠ” ìƒëª…ì£¼ê¸° ë©”ì„œë“œ

- constructor
- getDerivedStateFromProps
- render
- componentDidMount

**constructor**
: `constructor`ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ìƒì„±ì ë©”ì„œë“œë¡œ, ì»´í¬ë„ŒíŠ¸ê°€ ë§Œë“¤ì–´ì§€ë©´ ê°€ì¥ ë¨¼ì € ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤.

```text
constructor(props) {	super(props);	console.log("constructor");}
```

stateë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ì‘ì—…ì´ ì—†ë‹¤ë©´ constructorë¥¼ êµ¬í˜„í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.
constructorë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?

1. this.stateì— ê°ì²´ë¥¼ í• ë‹¹í•˜ì—¬ ì§€ì—­ stateë¥¼ ì´ˆê¸°í™”
2. ì¸ìŠ¤í„´ìŠ¤ì— ì´ë²¤íŠ¸ ì²˜ë¦¬ ë©”ì„œë“œ ë°”ì¸ë”©

ë³´í†µ ì´ ë‘ê°€ì§€ ëª©ì ì„ ìœ„í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.
_ğŸš§Â ì¤‘ìš”í•œ ê±´ constructor ë‚´ë¶€ì—ì„œ setStateë¥¼ í˜¸ì¶œí•˜ë©´ ì•ˆë©ë‹ˆë‹¤._

```text
constructor(props) {  super(props);  // ğŸš§ ì—¬ê¸°ì„œ this.setState()ë¥¼ í˜¸ì¶œí•˜ë©´ ì•ˆë¨  this.state = { counter: 0 };  this.handleClick = this.handleClick.bind(this);}
```

constructorëŠ” this.stateë¥¼ ì§ì ‘ í• ë‹¹í•  ìˆ˜ ìˆëŠ” ìœ ì¼í•œ ê³³ì´ê¸° ë•Œë¬¸ì´ì£ .
**getDerivedStateFromProps**
: propsë¡œ ë„˜ì–´ì˜¨ ê²ƒì„ stateë¡œ ë§Œë“¤ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

- ë§Œì•½ stateê°€ ê°±ì‹ ë˜ì—ˆë‹¤ë©´ ë³€ê²½ëœ ê°ì²´ë¥¼ ë°˜í™˜
- ë³€ê²½ëœ stateê°€ ì—†ë‹¤ë©´ nullì„ ë°˜í™˜

```jsx
static getDerivedStateFromProps(nextProps, prevState) {  console.log("getDerivedStateFromProps");  if (nextProps.color !== prevState.color) {    return { color: nextProps.color };  }  return null;}
```

ë‹¤ë¥¸ ë©”ì„œë“œì™€ ë‹¬ë¦¬ `static` ì„ í•„ìš”ë¡œ í•˜ê³ , ì´ ë©”ì„œë“œ ì•ˆì—ì„œëŠ” thisë¥¼ ì¡°íšŒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. (staticì´ë‹ˆê¹Œìš”!) `getDerivedStateFromProps` ë©”ì„œë“œëŠ” ë§ˆìš´íŠ¸ë  ë•Œì™€ ì—…ë°ì´íŠ¸ë  ë•Œ render ë©”ì„œë“œ ì´ì „ì— ë§¤ë²ˆ í˜¸ì¶œë©ë‹ˆë‹¤.
**render**
: ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ë©”ì„œë“œë¡œ **ë°˜ë“œì‹œ êµ¬í˜„ë˜ì–´ì•¼ í•˜ëŠ” ìœ ì¼í•œ ë©”ì„œë“œ**ì…ë‹ˆë‹¤.
**componentDidMount**
: ì»´í¬ë„ŒíŠ¸ ì²« ë²ˆì§¸ ë Œë”ë§ì„ ë§ˆì¹˜ê³  ë‚˜ë©´ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤.
ì´ ë©”ì„œë“œê°€ í˜¸ì¶œë˜ëŠ” ì‹œì ì—ëŠ” ìš°ë¦¬ê°€ ë§Œë“  ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ë‚˜íƒ€ë‚œ ìƒíƒœì…ë‹ˆë‹¤. ì´ ë‹¨ê³„ì—ì„œëŠ” axios, fetch ë“±ì„ ì‚¬ìš©í•´ ì™¸ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì‘ì—…ì„ í•©ë‹ˆë‹¤.

### ì—…ë°ì´íŠ¸ë  ë•Œ ë°œìƒí•˜ëŠ” ìƒëª…ì£¼ê¸°

- getDerivedStateFromProps
- shouldComponentUpdate
- render
- getSnapshotBeforeUpdate
- componentDidUpdate

**getDerivedStateFromProps**
: ë§ˆìš´íŠ¸ ë  ë•Œ ë°œìƒí–ˆë˜ ë©”ì„œë“œë¡œ, ì»´í¬ë„ŒíŠ¸ì˜ propsì™€ stateê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œë„ ì´ ë©”ì„œë“œê°€ í˜¸ì¶œë©ë‹ˆë‹¤.
**shouldComponentUpdate**
: ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ í• ì§€ ë§ì§€ë¥¼ ê²°ì •í•˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤.

```text
shouldComponentUpdate(nextProps, nextState) {	console.log("shouldComponentUpdate", nextProps, nextState);	// ìˆ«ìì˜ ë§ˆì§€ë§‰ ìë¦¬ê°€ 4ë©´ ë¦¬ë Œë”ë§í•˜ì§€ ì•ŠëŠ”ë‹¤.	return nextState.number % 10 !== 4 // ğŸ› falseë¥¼ ë°˜í™˜í•˜ë©´ ì‘ì—…ì„ ì¤‘ì§€(ë¦¬ë Œë”ë§ ë°©ì§€)}
```

ì£¼ë¡œ ìµœì í™”í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤. ğŸ‘‰ğŸ»Â React.memoì˜ ì—­í• ê³¼ ë¹„ìŠ·í•©ë‹ˆë‹¤.
**render**
: ìƒëµ!
**getSnapshotBeforeUpdate**
: ì»´í¬ë„ŒíŠ¸ì— ë³€í™”ê°€ ì¼ì–´ë‚˜ê¸° ì§ì „ì˜ DOM ìƒíƒœë¥¼ ê°€ì ¸ì™€ì„œ íŠ¹ì • ê°’ì„ ë°˜í™˜í•˜ë©´ ê·¸ ë‹¤ìŒì— ë°œìƒí•˜ê²Œ ë˜ëŠ” componentDidUpdate í•¨ìˆ˜ì—ì„œ ë°›ì•„ì™€ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```text
getSnapshotBeforeUpdate(prevProps, prevState) {  console.log("getSnapshotBeforeUpdate");  if (prevProps.color !== this.props.color) {    return this.myRef.style.color; // íŠ¹ì • ê°’ ë°˜í™˜  }  return null; // íŠ¹ì • ê°’ ë°˜í™˜}
```

**componentDidUpdate**
: ë¦¬ë Œë”ë§ì„ ë§ˆì¹˜ê³  í™”ë©´ì— ìš°ë¦¬ê°€ ì›í•˜ëŠ” ë³€í™”ê°€ ëª¨ë‘ ë°˜ì˜ë˜ê³  ë‚œ ë’¤ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤.
3ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ getSnapshotBeforeUpdateì—ì„œ ë°˜í™˜í•œ ê°’ ì„ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```text
componentDidUpdate(prevProps, prevState, snapshot) {    console.log("componentDidUpdate", prevProps, prevState);    if (snapshot) {      console.log("ì—…ë°ì´íŠ¸ ë˜ê¸° ì§ì „ ìƒ‰ìƒ: ", snapshot);    }  }
```

ì•„ë‹ˆ ê·¸ë˜ì„œ.. `getSnapshotBeforeUpdate` ì„ ì–¸ì œ ì–´ë–»ê²Œ ì‚¬ìš©í•œë‹¤ëŠ” ê±¸ê¹Œìš”..?
[ì‹¤ì œ ì‚¬ìš©ì‚¬ë¡€](https://codesandbox.io/s/getsnapshotbeforeupdate-yeje-vpmle?fontsize=14)ë¥¼ í•œ ë²ˆ ë³´ê³  ë„˜ì–´ê°‘ì‹œë‹¤.
Chromeì—ì„œëŠ” ì´ë¯¸ ìì²´ì ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ìˆëŠ” ê¸°ëŠ¥ì¸ë°ìš”, ìƒˆë¡œìš´ ë‚´ìš©ì´ ì¶”ê°€ë˜ì—ˆì„ ë•Œ ì‚¬ìš©ìì˜ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ìœ ì§€ì‹œí‚¤ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.í•˜ì§€ë§Œ Safari ë¸Œë¼ìš°ì €ë¥¼ í¬í•¨í•œ ì¼ë¶€ ë¸Œë¼ìš°ì €ëŠ” ì´ ê¸°ëŠ¥ì´ êµ¬í˜„ë˜ì–´ ìˆì§€ ì•Šì•„ì„œ ì•„ë˜ì™€ ê°™ì´ ì‘ë™í•˜ê²Œ ë©ë‹ˆë‹¤.

![https://i.imgur.com/1POUOrQ.gif](https://i.imgur.com/1POUOrQ.gif)

ë‚´ìš©ì´ ì¶”ê°€ëœë‹¤ í•´ë„ ì œê°€ ìˆë˜ ìœ„ì¹˜ 2ì—ì„œ ë¨¸ë¬¼ëŸ¬ì•¼ í•  ë•Œ `getSnapshotBeforeUpdate`ë¥¼ í™œìš©í•˜ë©´ ìœ ì§€ë¥¼ í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

```text
import React, { Component } from 'react';import './ScrollBox.css';class ScrollBox extends Component {  id = 2;  state = {    array: [1],  };  handleInsert = () => {    this.setState({      array: [this.id++, ...this.state.array],    });  };  getSnapshotBeforeUpdate(prevProps, prevState) {    // DOM ì—…ë°ì´íŠ¸ê°€ ì¼ì–´ë‚˜ê¸° ì§ì „ì˜ ì‹œì ì…ë‹ˆë‹¤.    // ìƒˆ ë°ì´í„°ê°€ ìƒë‹¨ì— ì¶”ê°€ë˜ì–´ë„ ìŠ¤í¬ë¡¤ë°”ë¥¼ ìœ ì§€í•´ë³´ê² ìŠµë‹ˆë‹¤.    // scrollHeight ëŠ” ì „ í›„ë¥¼ ë¹„êµí•´ì„œ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•¨ì´ê³ ,    // scrollTop ì€, ì´ ê¸°ëŠ¥ì´ í¬ë¡¬ì— ì´ë¯¸ êµ¬í˜„ì´ ë˜ì–´ìˆëŠ”ë°,    // ì´ë¯¸ êµ¬í˜„ì´ ë˜ì–´ìˆë‹¤ë©´ ì²˜ë¦¬í•˜ì§€ ì•Šë„ë¡ í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.    if (prevState.array !== this.state.array) {      const { scrollTop, scrollHeight } = this.list;      // ì—¬ê¸°ì„œ ë°˜í™˜ í•˜ëŠ” ê°’ì€ componentDidMount ì—ì„œ snapshot ê°’ìœ¼ë¡œ ë°›ì•„ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.      return {        scrollTop,        scrollHeight,      };    }  }  componentDidUpdate(prevProps, prevState, snapshot) {    console.log(prevProps, prevState, snapshot);    if (snapshot) {      const { scrollTop } = this.list;      if (scrollTop !== snapshot.scrollTop) return; // ê¸°ëŠ¥ì´ ì´ë¯¸ êµ¬í˜„ë˜ì–´ìˆë‹¤ë©´ ì²˜ë¦¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.      const diff = this.list.scrollHeight - snapshot.scrollHeight;      this.list.scrollTop += diff;    }  }  render() {    const rows = this.state.array.map((number) => (      <div className="row" key={number}>        {number}      </div>    ));    return (      <div>        <div          ref={(ref) => {            this.list = ref;          }}          className="list"        >          {rows}        </div>        <button onClick={this.handleInsert}>Click Me</button>      </div>    );  }}export default ScrollBox;
```

![https://i.imgur.com/gS01iZ9.gif](https://i.imgur.com/gS01iZ9.gif)

`getSnapshotBeforeUpdate`Â ëŠ” ì‚¬ì‹¤ ì‚¬ìš©ë˜ëŠ” ì¼ì´ ê·¸ë ‡ê²Œ ë§ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ëƒ¥ ì´ëŸ°ê²Œ ìˆë‹¤.. ì •ë„ë§Œ ì•Œì•„ë‘ì‹œë©´ ì¶©ë¶„í•©ë‹ˆë‹¤.
_ğŸš§Â DOM ì— ë³€í™”ê°€ ë°˜ì˜ë˜ê¸° ì§ì „ì— DOMì˜ ì†ì„±ì„ í™•ì¸í•˜ê³  ì‹¶ì„ ë•Œ ì´ ìƒëª…ì£¼ê¸° ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤ëŠ” ê²ƒì„ ì•Œì•„ë‘ì„¸ìš”._

### ì–¸ë§ˆìš´íŠ¸ë  ë•Œ ë°œìƒí•˜ëŠ” ë©”ì„œë“œ

ì–¸ë§ˆìš´íŠ¸ì— ê´€ë ¨ëœ ìƒëª…ì£¼ê¸° ë©”ì„œë“œëŠ”Â `componentWillUnmount`Â í•˜ë‚˜ì…ë‹ˆë‹¤.
**componentWillUnmount**
: ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì—ì„œ ì‚¬ë¼ì§€ê¸° ì§ì „ì— í˜¸ì¶œë©ë‹ˆë‹¤.

```text
componentWillUnmount() {  console.log("componentWillUnmount");}
```

ì—¬ê¸°ì„œëŠ” ì£¼ë¡œ DOMì— ì§ì ‘ ë“±ë¡í–ˆì—ˆë˜ ì´ë²¤íŠ¸ë¥¼ ì œê±°í•˜ê³ , ë§Œì•½ì—Â `setTimeout`Â ì„ ê±¸ì€ê²ƒì´ ìˆë‹¤ë©´Â `clearTimeout`Â ì„ í†µí•˜ì—¬ ì œê±°ë¥¼ í•©ë‹ˆë‹¤.
ë§ˆì§€ë§‰ìœ¼ë¡œ!
**componentDidCatch**
: ë Œë”ë§ ë„ì¤‘ì— ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ë•Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¨¹í†µë˜ì§€ ì•Šê³  ì˜¤ë¥˜ UIë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆë„ë¡ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```text
componentDidCatch(error, info) {  this.setState({    error: true;  });  // .. ì—ëŸ¬ì‹œ ë³´ì—¬ì¤„ ì‘ì—…}
```

- `error`Â íŒŒë¼ë¯¸í„° :Â ì–´ë–¤ ì—ëŸ¬ê°€ ë°œìƒí–ˆëŠ”ì§€ì— ëŒ€í•œ ì •ë³´
- `info`Â íŒŒë¼ë¯¸í„° : ì–´ë””ì— ìˆëŠ” ì½”ë“œì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆëŠ”ì§€ì— ëŒ€í•œ ì •ë³´

ì´ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ì»´í¬ë„ŒíŠ¸ ìì‹ ì—ê²Œ ë°œìƒí•˜ëŠ” ì—ëŸ¬ë¥¼ ì¡ì•„ë‚¼ ìˆ˜ ì—†ê³ , ìì‹ ì˜ this.prop.childrenìœ¼ë¡œ ì „ë‹¬ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°œìƒí•˜ëŠ” ì—ëŸ¬ë§Œ ì¡ì•„ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### í•˜ë‚˜ì˜ ì˜ˆì œë¥¼ ê°€ì ¸ì™€ë³´ì•˜ìë‹ˆë‹¤.

![ezgif.com-crop.gif](/images/content/react-lifecycle-and-methods/3.gif)

- `"ìƒ‰ìƒ ëœë¤ìœ¼ë¡œ ë³€ê²½ì‹œì¼œë²„ë¦¬ê¸°"` ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìˆ«ìì˜ ìƒ‰ìƒì´ ë³€ê²½ëœë‹¤.
- `"í† ê¸€ë²„íŠ¼ìœ¼ë¡œ ë‚˜íƒ€ë‚¬ë‹¤ ì‚¬ë¼ì¡Œë‹¤"` ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì§€ê±°ë‚˜ ë‚˜íƒ€ë‚œë‹¤.
- `"ìˆ«ì ì¦ê°€"` ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìˆ«ìê°€ 1ì”© ë”í•´ì§„ë‹¤.

ë¨¼ì € ê¸°ëŠ¥ êµ¬í˜„í•´ë³´ê¸°

```text
import { useState } from 'react';import './styles.css';// ëœë¤ ìƒ‰ìƒ ë§Œë“œëŠ” í•¨ìˆ˜function getRandomColor() {  return '#' + Math.floor(Math.random() * 16777215).toString(16);}export default function App() {  const [color, setColor] = useState('#000000');  const [toggle, setToggle] = useState(true);  const handleRandomColor = () => {    setColor(getRandomColor());  };  return (    <div className="App">      <h1>ì½”ë“œë¥¼ êµ¬í˜„í•´ë³´ìã…ã…ã…ã…</h1>      <button type="button" onClick={handleRandomColor}>        ìƒ‰ìƒ ëœë¤ìœ¼ë¡œ ë³€ê²½ì‹œì¼œë²„ë¦¬ê¸°      </button>      <button type="button" onClick={() => setToggle((toggle) => !toggle)}>        í† ê¸€ë²„íŠ¼ìœ¼ë¡œ ë‚˜íƒ€ë‚¬ë‹¤ ì‚¬ë¼ì¡Œë‹¤      </button>      {toggle && <Sample color={color} count={count} setCount={setCount} />}    </div>  );}function Sample({ color }) {  const [count, setCount] = useState(0);  return (    <div>      <h2 style={{ color: color }}>{count}</h2>      <button type="button" onClick={() => setCount((count) => count + 1)}>        ìˆ«ì ì¦ê°€!!      </button>    </div>  );}
```

ì €ëŠ” ë¨¼ì € setState í›…ì„ ì‚¬ìš©í•´ êµ¬í˜„ì„ í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

### ì´ì œ í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬í˜„í•˜ë©´â€¦

```text
import React, { useState } from 'react';import ReactDOM from 'react-dom';import LifeCycleSample from './LifeCycleSample';// ëœë¤ ìƒ‰ìƒì„ ìƒì„±í•©ë‹ˆë‹¤function getRandomColor() {  return '#' + Math.floor(Math.random() * 16777215).toString(16);}function App() {  const [color, setColor] = useState('#000000');  const [visible, setVisible] = useState(true);  const onClick = () => {    setColor(getRandomColor());  };  const onToggle = () => {    setVisible(!visible);  };  return (    <>      <button onClick={onClick}>ëœë¤ ìƒ‰ìƒ</button>      <button onClick={onToggle}>í† ê¸€</button>      {visible && <LifeCycleSample color={color} />}    </>  );}const rootElement = document.getElementById('root');ReactDOM.render(<App />, rootElement);
```

```text
import React, { Component } from 'react';class LifeCycleSample extends Component {  state = {    number: 0,    color: null,  };  myRef = null; // ref ë¥¼ ì„¤ì • í•  ë¶€ë¶„  constructor(props) {    super(props);    console.log('constructor');  }  static getDerivedStateFromProps(nextProps, prevState) {    // ìƒíƒœê°€ ë³€ê²½ë˜ë©´ ë³€ê²½ëœ ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œ    console.log('getDerivedStateFromProps');    if (nextProps.color !== prevState.color) {      return { color: nextProps.color };    }    return null;  }  componentDidMount() {    // ë§ˆìš´íŠ¸ë˜ê³  í™”ë©´ì— í‘œì‹œëœ ì´í›„ì— ì‹¤í–‰    console.log('componentDidMount');  }  shouldComponentUpdate(nextProps, nextState) {    // ë¦¬ë Œë”ë§ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ëŠ” ë©”ì„œë“œ    console.log('shouldComponentUpdate', nextProps, nextState);    // ìˆ«ìì˜ ë§ˆì§€ë§‰ ìë¦¬ê°€ 4ë©´ ë¦¬ë Œë”ë§í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤    return nextState.number % 10 !== 4;  }  componentWillUnmount() {    console.log('componentWillUnmount');  }  handleClick = () => {    this.setState({      number: this.state.number + 1,    });  };  getSnapshotBeforeUpdate(prevProps, prevState) {    // ë³€í™”ê°€ ì¼ì–´ë‚˜ê¸° ì§ì „ì˜ DOM ìƒíƒœë¥¼ ê°€ì ¸ì™€ì„œ íŠ¹ì • ê°’ ë°˜í™˜    console.log('getSnapshotBeforeUpdate');    if (prevProps.color !== this.props.color) {      return this.myRef.style.color;    }    return null;  }  componentDidUpdate(prevProps, prevState, snapshot) {    console.log('componentDidUpdate', prevProps, prevState);    if (snapshot) {      console.log('ì—…ë°ì´íŠ¸ ë˜ê¸° ì§ì „ ìƒ‰ìƒ: ', snapshot);    }  }  render() {    console.log('render');    const style = {      color: this.props.color,    };    return (      <div>        <h1 style={style} ref={(ref) => (this.myRef = ref)}>          {this.state.number}        </h1>        <p>color: {this.state.color}</p>        <button onClick={this.handleClick}>ë”í•˜ê¸°</button>      </div>    );  }}export default LifeCycleSample;
```

[currying-bash-mrkjb - CodeSandbox](https://codesandbox.io/s/currying-bash-mrkjb?fontsize=14&file=/src/LifeCycleSample.js:0-1675)

![.](/images/content/react-lifecycle-and-methods/4.png)

ì–´ë¼â€¦?
![](https://pbs.twimg.com/media/DgNb9OZUEAAmONL?format=jpg&name=small)

ê·¸ëŸ¼ í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ê°€ ì•„ë‹Œ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ì–´ë–»ê²Œ ìƒëª…ì£¼ê¸°ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆì„ê¹Œìš”?

### í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì™€ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì˜ ë¹„êµ

ë¶„ë¥˜
í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸
í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸

Mounting
constructor()
í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€

Mounting
render()
return()

Mounting
ComponenDidMount()
useEffect()

Updating
componentDidUpdate()
useEffect()

UnMounting
componentWillUnmount()
useEffect()

<Callout>
  ê²°ë¡ ì€ í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ ë¼ì´í”„ì‚¬ì´í´ ë©”ì„œë“œëŠ” ì´ëŸ° ê²ƒë“¤ì´ ìˆêµ¬ë‚˜ ì •ë„ë¡œë§Œ
  ì•Œê³  ë„˜ì–´ê°€ê³ , useEffectì— ëŒ€í•´ì„œ ìì„¸íˆ ì•Œì•„ë‘ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤!
</Callout>

### Reference

- Reactì˜ ìƒëª… ì£¼ê¸°(Life Cycle)
- LifeCycle Method
- React.Component
