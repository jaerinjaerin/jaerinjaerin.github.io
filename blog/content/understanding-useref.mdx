---
title: 'useRefì˜ ê°œë…ê³¼ ì‚¬ìš©ë°©ë²• ğŸš€'
date: 2023-05-21
tags: ['React']
thumbnail: /thumbnails/react.png
---

## useRef

useRefëŠ” ë Œë”ë§ì— í•„ìš”í•˜ì§€ ì•Šì€ ê°’ì„ ì°¸ì¡°í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” React Hookì…ë‹ˆë‹¤.
ë Œë”ë§ì— í•„ìš”í•˜ì§€ ì•Šì€ ê°’ì´ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ê±¸ê¹Œìš”?ìƒíƒœ ê°’ì´ ë³€í•˜ë©´ ë¦¬ë Œë”ë§ì„ í•˜ëŠ” useStateì™€ ë‹¬ë¦¬, useRefëŠ” ë¦¬ë Œë”ë§ì„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê°’ì€ ë³€ê²½í•˜ì§€ë§Œ ë Œë”ë§ì€ ë‹¤ì‹œ í•˜ì§€ ì•ŠëŠ”ê±°ì£ .

```jsx
const inputRef = useRef(initialValue);
```

useRefëŠ” í•˜ë‚˜ì˜ parameterë¥¼ ë°›ìŠµë‹ˆë‹¤. ì°¸ì¡°í•  ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¥¼ ì„¤ì •í•  ì´ˆê¸° ê°’ì…ë‹ˆë‹¤. initialValueëŠ” ì´ˆê¸° ë Œë”ë§ ì´í›„ì—ëŠ” ë¬´ì‹œë©ë‹ˆë‹¤.

### ğŸ›µ useRefëŠ” ë¬´ì—‡ì„ ë°˜í™˜í• ê¹Œìš”?

useRefëŠ” currentë¼ëŠ” í”„ë¡œí¼í‹°ë¥¼ ê°€ì§„ í•˜ë‚˜ì˜ ê°ì²´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì²˜ìŒì—ëŠ” useRefì— ì „ë‹¬í•œ initialValueê°€ currentì˜ ê°’ì´ ë©ë‹ˆë‹¤.
![](/images/content/understanding-useref/1.png)

ë§Œë“  inputRefëŠ” JSX ë…¸ë“œì— ref ì–´íŠ¸ë¦¬ë·°íŠ¸ ê°’ìœ¼ë¡œ í• ë‹¹í•˜ë©´ inputRef.currentì˜ ê°’ì€ input ë…¸ë“œê°€ ë©ë‹ˆë‹¤.

```jsx
export default function App() {
  const inputRef = useRef(null);
  const handleClick = (e) => {
    console.log(inputRef.current.value);
  };
  return (
    <div className='App'>
      {' '}
      <input ref={inputRef} /> <button onClick={handleClick}>Click</button>{' '}
    </div>
  );
}
```

ğŸ‘‰ğŸ»ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ input.current.valueì˜ ê°’ì€ inputì— ì…ë ¥í•œ ê°’

## useRef, ì–¸ì œ ì‚¬ìš©í•˜ëŠ”ê±¸ê¹Œ?

### ğŸ›µ Referencing a value with a ref

refë¡œ ê°’ì„ ì°¸ì¡°í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.current í”„ë¡œí¼í‹°ë¥¼ ë³€ê²½í•˜ì—¬ ì •ë³´ë¥¼ ì €ì¥í•˜ê³  ë‚˜ì¤‘ì— ì½ì„ ìˆ˜ ìˆëŠ”ë°ìš”, stateì™€ ë¹„ìŠ·í•˜ë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ ë‹¤ë¥¸ ì ì´ ìˆìŠµë‹ˆë‹¤.
ì°¸ì¡°ë¥¼ ë³€ê²½í•´ë„ ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.
ì¦‰, refëŠ” ì‹œê°ì  ì¶œë ¥ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ” ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ”ë° ìœ ìš©í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, interval IDë¥¼ ì €ì¥í–ˆë‹¤ê°€ ë‚˜ì¤‘ì— ê²€ìƒ‰í•´ì•¼í•˜ëŠ” ê²½ìš° refì— ë„£ì–´ë†“ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ref ì•ˆì— ê°’ì„ ë³€ê²½í•˜ë ¤ë©´ current í”„ë¡œí¼í‹°ë¥¼ ì¡°ì‘í•˜ë©´ ë©ë‹ˆë‹¤.

**Click counter ë§Œë“¤ê¸°**useRefë¥¼ ì‚¬ìš©í•˜ì—¬ ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ ëª‡ ë²ˆ í´ë¦­í–ˆëŠ”ì§€ ì¶”ì í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.

```jsx
import { useRef } from 'react';
export default function Counter() {
  let ref = useRef(0);
  const handleClick = () => {
    ref.current = ref.current + 1;
    console.log(`You clicked ${ref.current} times`);
  };
  return <button onClick={handleClick}>Click me!</button>;
}
```

ğŸ‘‰ğŸ» ë§Œì•½ í´ë¦­í•œ íšŸìˆ˜ë¥¼ í™”ë©´ì— ì¶œë ¥í•´ì•¼í•œë‹¤ë©´? stateë¥¼ ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤.

**StopWatch ë§Œë“¤ê¸°**
ì—¬ê¸°ì„œëŠ” stateì™€ refë¥¼ ê°™ì´ ì¨ì•¼í•˜ëŠ”ë°ìš”, ë¬´ì—‡ì´ stateì—¬ì•¼ í•˜ê³ , ë¬´ì—‡ì´ refì—¬ì•¼ í• ê¹Œìš”?
startTimeê³¼ nowëŠ” ëª¨ë‘ ë Œë”ë§ì— ì‚¬ìš©ë˜ë¯€ë¡œ stateì…ë‹ˆë‹¤. ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œ ê°„ê²©ì„ ë©ˆì¶œ ìˆ˜ ìˆë„ë¡ ë§Œë“¤ intervalIdëŠ” ë Œë”ë§ì— ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ refì— ë„£ì–´ ì‚¬ìš©í•©ë‹ˆë‹¤.

```jsx
import { useState, useRef } from 'react';export default function StopWatch() {  const [startTime, setStartTime] = useState(null);  const [now, setNow] = useState(null);  const intervalRef = useRef(null);  const handleStartClick = () => {    setStartTime(Date.now());    setNow(Date.now());    clearInterval(intervalRef.current); // âœ… ìƒˆ ì¸í„°ë²Œì„ ì‹œì‘í•˜ê¸° ì „ì— ì´ì „ì— ì‹¤í–‰ ì¤‘ì¸ ì¸í„°ë²Œ ì§€ìš°ê¸°    intervalRef.current = setInterval(() => {      setNow(Date.now());    }, 10);  };  const handleStopClick = () => {    clearInterval(intervalRef.current);  };  let secondsPassed = 0;  if (startTime != null && now != null) {    secondsPassed = (now - startTime) / 1000;  }  return (    <>      <h1> TimePassed: {secondsPassed.toFixed(3)} </h1>      <button onClick={handleStartClick}>Start</button>      <button onClick={handleStopClick}>Stop</button>    </>  );}
```

### ğŸ›µ Manipulating the DOM with a ref

DOMì„ ì¡°ì‘í•˜ë ¤ê³  í•  ë•Œ refë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

1. ref ê°ì²´ë¥¼ nullìœ¼ë¡œ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.

```jsx
const inputRef = useRef(null);
```

1. ref ê°ì²´ë¥¼ ref ì–´íŠ¸ë¦¬ë·°íŠ¸ë¡œ ì¡°ì‘í•˜ë ¤ëŠ” DOM ë…¸ë“œì˜ JSXì— ì „ë‹¬í•©ë‹ˆë‹¤.

```jsx
// ...return <input ref={inputRef} />;
```

1. Reactê°€ DOM ë…¸ë“œë¥¼ ìƒì„±í•˜ê³  í™”ë©´ì— ë°°ì¹˜í•˜ë©´ ReactëŠ” ref ê°ì²´ì˜ í˜„ì¬ í”„ë¡œí¼í‹°ë¥¼ í•´ë‹¹ DOM ë…¸ë“œë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ì´ì œ inputì˜ DOM ë…¸ë“œì— ì ‘ê·¼í•˜ì—¬ focus()ì™€ ê°™ì€ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
function handleClick() {
  inputRef.current.focus();
}
```

ReactëŠ” ë…¸ë“œê°€ í™”ë©´ì—ì„œ ì œê±°ë˜ë©´ í˜„ì¬ í”„ë¡œí¼í‹°ë¥¼ ë‹¤ì‹œ nullë¡œ ì„¤ì •í•©ë‹ˆë‹¤.

**viewì—ì„œ ì´ë¯¸ì§€ ìŠ¤í¬ë¡¤í•˜ê¸°**
ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì´ë¯¸ì§€ê°€ ìŠ¤í¬ë¡¤ë˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë ¤ê³  í•©ë‹ˆë‹¤.

![](/images/content/understanding-useref/2.gif)

useRefëŠ” ì´ë¯¸ì§€ ë¦¬ìŠ¤íŠ¸ë¥¼ ê°ì‹¸ê³  ìˆëŠ” ulì— ì£¼ê³  ë²„íŠ¼ì„ í´ë¦­í•  ë•Œ querySelectorAllì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤í¬ë¡¤í•˜ë ¤ê³  í•˜ëŠ” ì´ë¯¸ì§€ë¥¼ ì°¾ìœ¼ë©´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.

```jsx
import { useRef } from 'react';
export default function CatFriends() {
  const listRef = useRef(null);
  const scrollToIndex = (index) => {
    const listNode = listRef.current;
    const imgNode = [...listNode.querySelectorAll('li > img')][index];
    imgNode.scrollIntoView({
      behavior: 'smooth',
      block: 'nearest',
      inline: 'center',
    });
  };
  return (
    <>
      {' '}
      <nav>
        {' '}
        <button onClick={() => scrollToIndex(0)}>Tom</button> <button
          onClick={() => scrollToIndex(1)}
        >
          Maru
        </button> <button onClick={() => scrollToIndex(2)}>
          Jellylorum
        </button>{' '}
      </nav> <div>
        {' '}
        <ul ref={listRef}>
          {' '}
          <li>
            {' '}
            <img src='https://placekitten.com/g/200/200' alt='Tom' />{' '}
          </li> <li>
            {' '}
            <img src='https://placekitten.com/g/300/200' alt='Maru' />{' '}
          </li> <li>
            {' '}
            <img
              src='https://placekitten.com/g/250/200'
              alt='Jellylorum'
            />{' '}
          </li>{' '}
        </ul>{' '}
      </div>{' '}
    </>
  );
}
```
